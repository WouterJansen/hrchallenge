<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Rate Challenge - Unlock the Secret Message</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ«€ Heart Rate Challenge</h1>
            <p class="subtitle">Connect your heart rate monitor and reach the target zone to unlock the secret message!</p>
        </header>

        <div class="card">
            <div class="status-section">
                <div class="connection-status" id="connectionStatus">
                    <span class="status-dot disconnected"></span>
                    <span>Not Connected</span>
                </div>
                
                <button id="connectBtn" class="btn btn-primary">
                    ğŸ”— Connect Heart Rate Monitor
                </button>
            </div>

            <div class="hr-display" id="hrDisplay">
                <div class="hr-value">
                    <span class="hr-number" id="hrNumber">--</span>
                    <span class="hr-unit">BPM</span>
                </div>
                <div class="hr-label">Current Heart Rate</div>
            </div>

            <div class="target-zone">
                <h3>Target Zone</h3>
                <div class="zone-inputs">
                    <div class="input-group">
                        <label for="minHR">Min BPM:</label>
                        <input type="number" id="minHR" value="120" min="60" max="200">
                    </div>
                    <div class="input-group">
                        <label for="maxHR">Max BPM:</label>
                        <input type="number" id="maxHR" value="150" min="60" max="200">
                    </div>
                </div>
                <div class="zone-display">
                    <span id="zoneStatus" class="zone-status">Outside Zone</span>
                </div>
            </div>

            <div class="audio-section" id="audioSection">
                <h3>ğŸµ Secret Audio Message</h3>
                <div class="audio-controls">
                    <button id="playBtn" class="btn btn-success">â–¶ï¸ Start Challenge</button>
                    <button id="pauseBtn" class="btn btn-secondary" style="display: none;">â¸ï¸ Stop</button>
                </div>
                <div class="audio-info">
                    <p>Upload your secret audio message:</p>
                    <input type="file" id="audioUpload" accept="audio/*">
                    <p class="upload-hint">The message will be scrambled until you reach the target heart rate!</p>
                </div>
            </div>

            <div class="progress-section">
                <div class="clarity-label">
                    <span>ğŸ”‡ Scrambled</span>
                    <span>Message Clarity</span>
                    <span>ğŸ”Š Clear</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <p class="timer-text">Clarity: <span id="timeInZone">0</span>%</p>
            </div>
        </div>

        <div class="info-card">
            <h3>â„¹ï¸ How It Works</h3>
            <ol>
                <li>Upload your secret audio message (or use the default melody)</li>
                <li>Connect a Bluetooth heart rate monitor (chest strap or watch)</li>
                <li>Click "Start Challenge" to begin playing the scrambled audio</li>
                <li>Set your target heart rate zone (or use the default 120-150 BPM)</li>
                <li>Exercise to reach the target zone - the audio becomes clearer as you get closer!</li>
                <li>Only when you're in the perfect zone will the message be fully clear!</li>
            </ol>
            <p class="note"><strong>Note:</strong> This requires a Bluetooth-enabled device and works best on Chrome, Edge, or Opera browsers.</p>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
